!function(){"use strict";function t(){}t.prototype={preload:function(){this.load.image("preloader","assets/preloader.gif")},create:function(){this.game.scale.scaleMode=2,this.game.scale.fullScreenScaleMode=2,this.game.scale.refresh(),this.game.state.start("preloader")}},window.vkphaser=window.vkphaser||{},window.vkphaser.Boot=t}(),window.onload=function(){"use strict";var t,e=window.vkphaser;t=new Phaser.Game(1920,1080,Phaser.AUTO,"vkphaser-game"),t.state.add("boot",e.Boot),t.state.add("preloader",e.Preloader),t.state.add("menu",e.Menu),t.state.add("level01",e.Level01),t.state.add("level02",e.Level02),t.state.start("boot");var a=function(t){var e=JSON.stringify(t);parent.postMessage(e,window.location.origin)},i=function(t){if(t.origin===window.location.origin){var e=JSON.parse(t.data);console.log("start"===e.action?e:"Unknown message: "+t.data)}};window.addEventListener("message",i,!1),a({state:"ready"})},function(){"use strict";function t(){var t=this,e=function(e,a){var i={font:"Revalia",fontSize:60,align:"center",fill:"#FF0000",stroke:"#FFFFFF",strokeThickness:10,inputEnabled:!0};t.vk.titleTxt=t.game.add.text(e,a,"-- Hit vince! --\n"),t.vk.titleTxt.anchor.setTo(.5),t.vk.titleTxt.setShadow(5,5,"rgba(255,255,255,0.2)",5),Phaser.Utils.extend(t.vk.titleTxt,i)},a=function(t){t.lineStyle(4,16711680,1),t.beginFill(16711680,.2),t.drawRect(-300,0,600,120)},i=function(t){var e={fill:"#FFFFFF",font:"Revalia",fontSize:40};t.anchor.setTo(.5),Phaser.Utils.extend(t,e)},n=function(e,n){t.vk.startButtonShape=t.game.add.graphics(e,n),a(t.vk.startButtonShape),t.vk.startButtonTxt=t.add.text(0,70,"Start\n"),i(t.vk.startButtonTxt),t.vk.startButtonGroup=t.game.add.group(t.vk.startButtonShape),t.vk.startButtonGroup.add(t.vk.startButtonTxt)},s=function(){t.vk.fullScreenButtonTxt.text=t.game.scale.isFullScreen?"Exit Full Screen\n":"Enter Full Screen\n"},o=function(e,n){t.vk.fullScreenButtonShape=t.game.add.graphics(e,n),a(t.vk.fullScreenButtonShape),t.vk.fullScreenButtonTxt=t.add.text(0,70,"Full Screen\n"),i(t.vk.fullScreenButtonTxt),t.vk.fullScreenButtonGroup=t.game.add.group(t.vk.fullScreenButtonShape),t.vk.fullScreenButtonGroup.add(t.vk.fullScreenButtonTxt),s()},r=function(){s(),setTimeout(function(){t.game.scale.refresh()},100)},h=function(){t.game.scale.isFullScreen?document.webkitCancelFullScreen():document.documentElement.webkitRequestFullScreen()},l=function(e){t.vk.startButtonShape.vkcontains(e.x,e.y)?t.game.state.start("level01"):t.vk.fullScreenButtonShape&&t.vk.fullScreenButtonShape.vkcontains(e.x,e.y)&&h()};t.vk={titleCreate:e,startButtonCreate:n,fullScreenButtonCreate:o,onFullScreen:r,onDown:l}}t.prototype={create:function(){var t=this.game.width/2,e=this.game.height/2;this.vk.titleCreate(t,e-100),this.vk.startButtonCreate(t,e),window===parent&&this.vk.fullScreenButtonCreate(t,e+180),this.game.input.onDown.add(this.vk.onDown,this),this.game.scale.enterFullScreen.add(this.vk.onFullScreen,this),this.game.scale.leaveFullScreen.add(this.vk.onFullScreen,this)}},window.vkphaser=window.vkphaser||{},window.vkphaser.Menu=t}(),function(){"use strict";function t(){}t.prototype={preload:function(){this.asset=this.add.sprite(320,240,"preloader"),this.asset.anchor.setTo(.5,.5),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.setPreloadSprite(this.asset),this.load.image("player","assets/player.png"),this.load.image("vincehead","assets/vincehead.png"),this.load.bitmapFont("minecraftia","assets/minecraftia.png","assets/minecraftia.xml");var t=this;window.WebFontConfig={active:function(){t.onFontLoadComplete()},google:{families:["Revalia"]}},this.load.script("webfont","//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js")},create:function(){},enterThisYo:function(){this.game.scale.refresh()},update:function(){this.ready&&this.fontready&&this.game.state.start("menu")},onLoadComplete:function(){this.ready=!0},onFontLoadComplete:function(){this.fontready=!0}},window.vkphaser=window.vkphaser||{},window.vkphaser.Preloader=t}(),function(){"use strict";Phaser.Graphics.prototype.vkcontains=function(t,e){var a=this.position.x+this.graphicsData[0].points[0],i=a+this.graphicsData[0].points[2],n=this.position.y+this.graphicsData[0].points[1],s=n+this.graphicsData[0].points[3];return t>=a&&i>=t&&e>=n&&s>=e?!0:!1}}(),function(){"use strict";function t(){}t.prototype={create:function(){var t=this.game.width/2,e=this.game.height/2;this.player=this.add.sprite(t,e,"player"),this.player.anchor.setTo(.5,.5),this.input.onDown.add(this.onInputDown,this)},update:function(){var t,e,a,i,n,s,o,r;t=this.input.position.x,e=this.input.position.y,a=this.world.centerX,i=this.world.centerY,o=Math.atan2(e-i,t-a)*(180/Math.PI),this.player.angle=o,n=t-a,s=e-i,r=Math.sqrt(n*n+s*s)/100,this.player.scale.x=.6*r,this.player.scale.y=.6*r},onInputDown:function(){this.game.state.start("level02")}},window.vkphaser=window.vkphaser||{},window.vkphaser.Level01=t}(),function(){"use strict";function t(){}t.prototype={preload:function(){this.game.physics.arcade.gravity.y=1600},create:function(){this.scoreStyle={font:"30px Arial",fill:"#ffffff"},this.bird=this.game.add.sprite(100,245,"vincehead"),this.game.physics.enable([this.bird],Phaser.Physics.ARCADE);var t=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);t.onDown.add(this.jump,this),this.game.input.onDown.add(this.jump,this),this.pipes=this.game.add.group(),this.pipes.createMultiple(30,"vincehead"),this.game.physics.enable(this.pipes.children,Phaser.Physics.ARCADE),this.timer=this.game.time.events.loop(1500,this.addPipes,this),this.score=0,this.labelScore=this.game.add.text(20,20,"0",this.scoreStyle)},update:function(){this.bird.inWorld===!1&&this.restartGame(),this.game.physics.arcade.overlap(this.bird,this.pipes,this.restartGame,null,this)},jump:function(){this.bird.body.velocity.y=-600},restartGame:function(){this.game.time.events.remove(this.timer),this.game.state.start("menu")},addPipe:function(t,e){var a=this.pipes.getFirstDead();a.checkWorldBounds=!0,a.outOfBoundsKill=!0,a.reset(t,e),a.body.allowGravity=!1,a.body.velocity.x=-500,a.events.onOutOfBounds.add(function(){})},addPipes:function(){for(var t=Math.floor(6*Math.random())+1,e=0;9>e;e++)e!==t&&e!==t+1&&e!==t+2&&this.addPipe(this.game.width,120*e+5);this.score+=1,this.labelScore.text=this.score.toString()}},window.vkphaser=window.vkphaser||{},window.vkphaser.Level02=t}();